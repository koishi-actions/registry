var f=Object.defineProperty;var A=Object.getOwnPropertyDescriptor;var S=Object.getOwnPropertyNames;var _=Object.prototype.hasOwnProperty;var m=(s,e)=>()=>(s&&(e=s(s=0)),e);var h=(s,e)=>()=>(e||s((e={exports:{}}).exports,e),e.exports);var c=(s,e,r,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let t of S(e))!_.call(s,t)&&t!==r&&f(s,t,{get:()=>e[t],enumerable:!(a=A(e,t))||a.enumerable});return s},l=(s,e,r)=>(c(s,e,"default"),r&&c(r,e,"default"));var b=s=>c(f({},"__esModule",{value:!0}),s);import{Buffer as g}from"https://registry.koishi.chat/modules/buffer/index.js";import y from"https://registry.koishi.chat/modules/process/index.js";var d=m(()=>{});var o={};import*as P from"https://registry.koishi.chat/modules/koishi/index.js";var C=m(()=>{d();l(o,P)});var $=h((w,j)=>{j.exports={commands:{alias:{description:"创建别名指令",messages:{created:"已成功创建别名指令 {0}。",updated:"已成功更新别名指令 {0}。"}},unalias:{description:"删除别名指令",messages:{deleted:"已成功删除别名指令 {0}。","not-found":"未找到别名指令 {0}。"}}}}});var v=h(n=>{d();Object.defineProperty(n,"__esModule",{value:!0});n.name=n.Config=void 0;n.apply=q;var p=(C(),b(o));n.Config=p.Schema.object({aliases:p.Schema.dict(String)});n.name="alias";function q(s,e){s.i18n.define("zh-CN",$());function r(a,t){let i=`(→ ${t.split(" ",1)[0]}${t.includes(" ")?" ...":""})`;return s.command(a,i,{hidden:!0,slash:!1}).usage(p.h.escape(t)).action(async({session:u,source:k})=>u.execute(t+k.slice(a.length),!0))}for(let a in e.aliases)r(a,e.aliases[a]);s.command("alias <name:string> <command:text>",{authority:3,checkArgCount:!0}).action(async({session:a},t,i)=>{let u=s.$commander.get(t);return u?.dispose(),e.aliases[t]=i,r(t,i),s.scope.update(e,!1),a.text(u?".updated":".created",[t])}),s.command("unalias <name:string>",{authority:3,checkArgCount:!0}).action(async({session:a},t)=>{let i=s.$commander.get(t);return i?(i.dispose(),delete e.aliases[t],s.scope.update(e,!1),a.i18n(".deleted",[t])):a.i18n(".not-found",[t])})}});export default v();
