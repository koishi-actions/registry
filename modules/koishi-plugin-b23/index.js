var h=Object.defineProperty;var N=Object.getOwnPropertyDescriptor;var v=Object.getOwnPropertyNames;var S=Object.prototype.hasOwnProperty;var b=(t,e)=>()=>(t&&(e=t(t=0)),e);var _=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var c=(t,e,s,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of v(e))!S.call(t,r)&&r!==s&&h(t,r,{get:()=>e[r],enumerable:!(i=N(e,r))||i.enumerable});return t},m=(t,e,s)=>(c(t,e,"default"),s&&c(s,e,"default"));var k=t=>c(h({},"__esModule",{value:!0}),t);import{Buffer as g}from"https://registry.koishi.chat/modules/buffer/index.js";import y from"https://registry.koishi.chat/modules/process/index.js";var o=b(()=>{});var n={};import*as O from"https://registry.koishi.chat/modules/koishi/index.js";var x=b(()=>{o();m(n,O)});var $=_(a=>{o();Object.defineProperty(a,"__esModule",{value:!0});a.apply=a.Config=a.name=void 0;var l=(x(),k(n));a.name="b23";a.Config=l.Schema.object({defaultNum:l.Schema.number().min(1).max(100).step(1).default(10).description("获取热搜的默认数量"),maxNum:l.Schema.number().min(1).max(100).step(1).default(20).description("获取热搜的最大数量"),api:l.Schema.string().default("https://b23.api888.top/x/v2/search/trending/ranking").description("api地址")});function B(t,e){t.command("b23 [num:number]","获取B站热搜").alias("B站热搜").action(async(s,i)=>{let r;if(i===void 0)r=e.defaultNum;else{if(parseInt(i+"")!==i)return"请输入整数";if(i<1)return"热搜数量最小为1";r=Math.min(i,e.maxNum)}try{let u=await t.http.get(`${e.api}?limit=${r}`),d=["B站热搜"],f=u?.data?.list||[];for(let p=0;p<f.length;p++)d.push(`${p+1}. ${f[p].keyword}`);return d.join(`
`)}catch(u){return t.logger("b23").error(u),"获取热搜失败"}})}a.apply=B});export default $();
