var b=Object.defineProperty;var d=(e,t)=>{for(var r in t)b(e,r,{get:t[r],enumerable:!0})};import{Buffer as p}from"https://registry.koishi.chat/modules/buffer/index.js";import h from"https://registry.koishi.chat/modules/process/index.js";var f={};d(f,{basename:()=>k,delimiter:()=>w,dirname:()=>T,extname:()=>E,isAbsolute:()=>x,join:()=>A,normalize:()=>a,relative:()=>j,resolve:()=>l,sep:()=>v});function g(e,t){let r=0;for(let n=e.length-1;n>=0;n--){let o=e[n];o==="."?e.splice(n,1):o===".."?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}var y=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;function s(e){return y.exec(e).slice(1)}function l(...e){let t="",r=!1;for(let n=e.length-1;n>=-1&&!r;n--){let o=n>=0?e[n]:"/";if(typeof o!="string")throw new TypeError('The "path" argument must be of type string.');if(!o)continue;t=o+"/"+t,r=o.charAt(0)==="/"}return t=g(t.split("/").filter(n=>!!n),!r).join("/"),(r?"/":"")+t||"."}function x(e){return e.charAt(0)==="/"}function a(e){let t=x(e),r=e.slice(-1)==="/";return e=g(e.split("/").filter(n=>!!n),!t).join("/"),!e&&!t&&(e="."),e&&r&&(e+="/"),(t?"/":"")+e}function A(...e){return a(e.filter(t=>{if(typeof t!="string")throw new TypeError('The "path" argument must be of type string.');return t}).join("/"))}function m(e){let t=0;for(;t<e.length&&e[t]==="";t++);let r=e.length-1;for(;r>=0&&e[r]==="";r--);return t>r?[]:e.slice(t,r-t+1)}function j(e,t){let r=m(l(e).slice(1).split("/")),n=m(l(t).slice(1).split("/")),o=Math.min(r.length,n.length),i=0;for(;i<o&&r[i]===n[i];i++);let c=[];for(let u=i;u<r.length;u++)c.push("..");return c.concat(n.slice(i)).join("/")}var v="/",w=":";function T(e){let t=s(e),r=t[0],n=t[1];return!r&&!n?".":(n&&(n=n.slice(0,-1)),r+n)}function k(e,t){let r=s(e)[2];return t&&r.slice(-t.length)===t&&(r=r.slice(0,-t.length)),r}function E(e){return s(e)[3]}var R=f;export{k as basename,R as default,w as delimiter,T as dirname,E as extname,x as isAbsolute,A as join,a as normalize,f as posix,j as relative,l as resolve,v as sep};
