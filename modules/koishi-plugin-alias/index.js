var d=Object.defineProperty;var P=Object.getOwnPropertyDescriptor;var x=Object.getOwnPropertyNames;var w=Object.prototype.hasOwnProperty;var m=(r,e)=>()=>(r&&(e=r(r=0)),e);var j=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var l=(r,e,o,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of x(e))!w.call(r,a)&&a!==o&&d(r,a,{get:()=>e[a],enumerable:!(t=P(e,a))||t.enumerable});return r},u=(r,e,o)=>(l(r,e,"default"),o&&l(o,e,"default"));var k=r=>l(d({},"__esModule",{value:!0}),r);import{Buffer as _}from"https://registry.koishi.chat/modules/buffer/index.js";import f from"https://registry.koishi.chat/modules/process/index.js";var p=m(()=>{});var s={};import*as K from"https://registry.koishi.chat/modules/koishi/index.js";var y=m(()=>{p();u(s,K)});var M=j((L,C)=>{p();var c=Object.defineProperty,N=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,S=Object.prototype.hasOwnProperty,h=(r,e)=>c(r,"name",{value:e,configurable:!0}),A=(r,e)=>function(){return e||(0,r[g(r)[0]])((e={exports:{}}).exports,e),e.exports},q=(r,e)=>{for(var o in e)c(r,o,{get:e[o],enumerable:!0})},z=(r,e,o,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of g(e))!S.call(r,a)&&a!==o&&c(r,a,{get:()=>e[a],enumerable:!(t=N(e,a))||t.enumerable});return r},D=r=>z(c({},"__esModule",{value:!0}),r),J=A({"external/common/packages/alias/src/locales/zh-CN.yml"(r,e){e.exports={commands:{alias:{description:"创建别名指令",messages:{created:"已成功创建别名指令 {0}。",updated:"已成功更新别名指令 {0}。"}},unalias:{description:"删除别名指令",messages:{deleted:"已成功删除别名指令 {0}。","not-found":"未找到别名指令 {0}。"}}}}}}),O={};q(O,{Config:()=>$,apply:()=>b,name:()=>B});C.exports=D(O);var v=(y(),k(s)),$=v.Schema.object({aliases:v.Schema.dict(String).hidden()}),B="alias";function b(r,e){r.i18n.define("zh-CN",J());function o(t,a){return r.command(t,{hidden:!0}).action(async({session:n,source:i})=>{await n.execute(a+i.slice(t.length))})}h(o,"createAlias");for(let t in e.aliases)o(t,e.aliases[t]);r.command("alias <name:string> <command:text>",{authority:3,checkArgCount:!0}).action(async({session:t},a,n)=>{let i=r.$commander.get(a);return i?.dispose(),e.aliases[a]=n,o(a,n),r.scope.update(e,!1),t.text(i?".updated":".created",[a])}),r.command("unalias <name:string>",{authority:3,checkArgCount:!0}).action(async({session:t},a)=>{let n=r.$commander.get(a);return n?(n.dispose(),delete e.aliases[a],r.scope.update(e,!1),t.i18n(".deleted",[a])):t.i18n(".not-found",[a])})}h(b,"apply")});export default M();
